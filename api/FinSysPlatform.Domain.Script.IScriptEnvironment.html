<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IScriptEnvironment | FinScript </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IScriptEnvironment | FinScript ">
      
      <meta name="description" content="Environment for running script unit">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="FinScript">
            FinScript
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment">



  <h1 id="FinSysPlatform_Domain_Script_IScriptEnvironment" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment" class="text-break">
Interface IScriptEnvironment  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-37"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="FinSysPlatform.html">FinSysPlatform</a>.<a class="xref" href="FinSysPlatform.Domain.html">Domain</a>.<a class="xref" href="FinSysPlatform.Domain.Script.html">Script</a></dd></dl>
  <dl><dt>Assembly</dt><dd>FinSysPlatform.Domain.Script.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Environment for running script unit <a class="xref" href="FinSysPlatform.Domain.Script.IScriptUnit.html">IScriptUnit</a></p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IScriptEnvironment</code></pre>
  </div>













  <h2 class="section" id="properties">Properties
</h2>


  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_Instruments_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Instruments*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_Instruments" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Instruments">
  Instruments
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-101"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns a list of available</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlyList&lt;Instrument&gt; Instruments { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlylist-1">IReadOnlyList</a>&lt;<a class="xref" href="FinSysPlatform.Domain.Market.Instrument.html">Instrument</a>&gt;</dt>
    <dd></dd>
  </dl>








  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_Locations_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Locations*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_Locations" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Locations">
  Locations
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-126"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Locations for scripts, logs, sounds</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ILocations Locations { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FinSysPlatform.Domain.Script.ILocations.html">ILocations</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_Alert_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Alert*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_Alert_System_String_System_String_System_String_System_String_System_String_System_Nullable_FinSysPlatform_Domain_Script_Alerts_AlertSignal__FinSysPlatform_Domain_Script_Alerts_AlertPopupNotification_FinSysPlatform_Domain_Script_Alerts_AlertMailNotification_System_String_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Alert(System.String,System.String,System.String,System.String,System.String,System.Nullable{FinSysPlatform.Domain.Script.Alerts.AlertSignal},FinSysPlatform.Domain.Script.Alerts.AlertPopupNotification,FinSysPlatform.Domain.Script.Alerts.AlertMailNotification,System.String)">
  Alert(string, string?, string?, string, string, AlertSignal?, AlertPopupNotification?, AlertMailNotification?, string?)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-95"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Registers the alert in the journal and sends notifications (popup messages, mails, sounds) to user</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void Alert(string key, string? instrument, string? period, string sender, string message, AlertSignal? signal, AlertPopupNotification? popupMessage, AlertMailNotification? mailMessage, string? soundFile)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>Alert key to filter duplicate alerts: if alert has a key which was previously sent, then this alert is ignored</p>
</dd>
    <dt><code>instrument</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>An instrument name, for which this alert is. Optional parameter. It is visible in alert journal.</p>
</dd>
    <dt><code>period</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>It is recommended to compose bars type (for example Daily, Kagi or Renko) and period (for example, M15, D1) on which the script is running. Optional parameter. It is visible in alert journal.</p>
</dd>
    <dt><code>sender</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>Script name. It is visible in alert journal.</p>
</dd>
    <dt><code>message</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>Alert message. It is visible in alert journal.</p>
</dd>
    <dt><code>signal</code> <a class="xref" href="FinSysPlatform.Domain.Script.Alerts.AlertSignal.html">AlertSignal</a>?</dt>
    <dd><p>Signal direction. It is visible in alert journal. If the alert is not of buy/sell signal type, then set the parameter to null</p>
</dd>
    <dt><code>popupMessage</code> <a class="xref" href="FinSysPlatform.Domain.Script.Alerts.AlertPopupNotification.html">AlertPopupNotification</a></dt>
    <dd><p>Parameters for popup notification</p>
</dd>
    <dt><code>mailMessage</code> <a class="xref" href="FinSysPlatform.Domain.Script.Alerts.AlertMailNotification.html">AlertMailNotification</a></dt>
    <dd><p>Parameters for mail notification</p>
</dd>
    <dt><code>soundFile</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A filename for play sound. A file can be of any supported by OS media type. The filename can be of absolute path, or relative.
If the filename does not include path at all, then the file is searched in the app's sound folder (<a class="xref" href="FinSysPlatform.Domain.Script.ILocations.html#FinSysPlatform_Domain_Script_ILocations_SoundsFolder">SoundsFolder</a>).
If null, then the alert has no sound</p>
</dd>
  </dl>












  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_CreateDataSource_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.CreateDataSource*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_CreateDataSource_FinSysPlatform_Domain_Market_Instrument_FinSysPlatform_Domain_Market_MarketPriceType_FinSysPlatform_Domain_Market_Data_IBarsType_FinSysPlatform_Domain_Market_RequestPeriod_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.CreateDataSource(FinSysPlatform.Domain.Market.Instrument,FinSysPlatform.Domain.Market.MarketPriceType,FinSysPlatform.Domain.Market.Data.IBarsType,FinSysPlatform.Domain.Market.RequestPeriod)">
  CreateDataSource(Instrument, MarketPriceType, IBarsType, RequestPeriod)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-112"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets data bridge for specified instrument, price type and bar type</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IBarDataSource CreateDataSource(Instrument instrument, MarketPriceType priceType, IBarsType barsType, RequestPeriod requestPeriod)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>instrument</code> <a class="xref" href="FinSysPlatform.Domain.Market.Instrument.html">Instrument</a></dt>
    <dd></dd>
    <dt><code>priceType</code> <a class="xref" href="FinSysPlatform.Domain.Market.MarketPriceType.html">MarketPriceType</a></dt>
    <dd></dd>
    <dt><code>barsType</code> <a class="xref" href="FinSysPlatform.Domain.Market.Data.IBarsType.html">IBarsType</a></dt>
    <dd></dd>
    <dt><code>requestPeriod</code> <a class="xref" href="FinSysPlatform.Domain.Market.RequestPeriod.html">RequestPeriod</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FinSysPlatform.Domain.Market.Data.IBarDataSource.html">IBarDataSource</a></dt>
    <dd></dd>
  </dl>











  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_GetInstrumentAssets_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.GetInstrumentAssets*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_GetInstrumentAssets_FinSysPlatform_Domain_Market_InstrumentKey_System_String__System_String__" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.GetInstrumentAssets(FinSysPlatform.Domain.Market.InstrumentKey,System.String@,System.String@)">
  GetInstrumentAssets(InstrumentKey, out string?, out string?)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-121"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>For Forex instruments returns both currencies that participate in instrument</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool GetInstrumentAssets(InstrumentKey instrument, out string? currency1, out string? currency2)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>instrument</code> <a class="xref" href="FinSysPlatform.Domain.Market.InstrumentKey.html">InstrumentKey</a></dt>
    <dd></dd>
    <dt><code>currency1</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>If return value is true</p>
</dd>
    <dt><code>currency2</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>











  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogError_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogError*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogError_System_String_System_String_System_Exception_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogError(System.String,System.String,System.Exception)">
  LogError(string, string, Exception?)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-52"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Write a log event with the Error level and associated exception.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void LogError(string sender, string message, Exception? exception)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>sender</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>message</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>exception</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.exception">Exception</a></dt>
    <dd></dd>
  </dl>












  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogInfo_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogInfo*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogInfo_System_String_System_String_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogInfo(System.String,System.String)">
  LogInfo(string, string)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-67"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Write a log event with the Information level.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void LogInfo(string sender, string message)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>sender</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>message</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>












  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogWarning_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogWarning*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_LogWarning_System_String_System_String_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.LogWarning(System.String,System.String)">
  LogWarning(string, string)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-59"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Write a log event with the Warning level.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void LogWarning(string sender, string message)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>sender</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>message</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>












  <a id="FinSysPlatform_Domain_Script_IScriptEnvironment_Print_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Print*"></a>

  <h3 id="FinSysPlatform_Domain_Script_IScriptEnvironment_Print_System_String_System_String_" data-uid="FinSysPlatform.Domain.Script.IScriptEnvironment.Print(System.String,System.String)">
  Print(string, string)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Script/IScriptEnvironment.cs#lines-44"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Sends the message to a special output console</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void Print(string sender, string message)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>sender</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>message</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>













</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
