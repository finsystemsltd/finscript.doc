<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IInstrumentServiceProvider | FinScript </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IInstrumentServiceProvider | FinScript ">
      
      <meta name="description" content="An interface to work with instruments">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="FinScript">
            FinScript
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider">



  <h1 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider" class="text-break">
Interface IInstrumentServiceProvider  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-64"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="FinSysPlatform.html">FinSysPlatform</a>.<a class="xref" href="FinSysPlatform.Domain.html">Domain</a>.<a class="xref" href="FinSysPlatform.Domain.Market.html">Market</a>.<a class="xref" href="FinSysPlatform.Domain.Market.Providers.html">Providers</a></dd></dl>
  <dl><dt>Assembly</dt><dd>FinSysPlatform.Domain.Market.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>An interface to work with instruments</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IInstrumentServiceProvider</code></pre>
  </div>








  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProviderExtensions.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProviderExtensions_FindServerInstrumentsToBuildConversionRouteAsync_FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_System_Boolean_System_String_System_String_">IInstrumentServiceProviderExtensions.FindServerInstrumentsToBuildConversionRouteAsync(IInstrumentServiceProvider, bool, string, string)</a>
  </div>
  <div>
      <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProviderExtensions.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProviderExtensions_GetInstrumentAssets_FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_FinSysPlatform_Domain_Market_Instrument_System_String__System_String__">IInstrumentServiceProviderExtensions.GetInstrumentAssets(IInstrumentServiceProvider, Instrument, out string?, out string?)</a>
  </div>
  <div>
      <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProviderExtensions.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProviderExtensions_GetInstrumentAssets_FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_System_Collections_Generic_IEnumerable_FinSysPlatform_Domain_Market_Instrument__">IInstrumentServiceProviderExtensions.GetInstrumentAssets(IInstrumentServiceProvider, IEnumerable&lt;Instrument&gt;)</a>
  </div>
  <div>
      <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProviderExtensions.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProviderExtensions_GetSortedLocalInstruments_FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_">IInstrumentServiceProviderExtensions.GetSortedLocalInstruments(IInstrumentServiceProvider)</a>
  </div>
  <div>
      <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProviderExtensions.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProviderExtensions_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_FinSysPlatform_Domain_Market_Instrument_">IInstrumentServiceProviderExtensions.TryLoadInstrumentFromServerAsync(IInstrumentServiceProvider, Instrument)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="properties">Properties
</h2>


  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.AllServerInstrumentsLoadedEvent*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.AllServerInstrumentsLoadedEvent">
  AllServerInstrumentsLoadedEvent
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-181"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raises when all server instruments are downloaded and (<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded">IsAllServerInstrumentsLoaded</a>) flag sets to true</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEvent&lt;EventArgs&gt; AllServerInstrumentsLoadedEvent { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><span class="xref">IEvent</span>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.eventargs">EventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The event raises only for providers which are able to download all instruments from server (usually at start). But this feature is not obligatory for a provider
To get currently loaded instruments, use <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments">GetKnownServerInstruments()</a>
This event uses a weak reference: subscriber will be destroyed even if it is still subscribed to this event</p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_Capabilities_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.Capabilities*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_Capabilities" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.Capabilities">
  Capabilities
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-80"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>True if a provider loads all possible instruments from server on start</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlySet&lt;InstrumentServiceCapability&gt; Capabilities { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlyset-1">IReadOnlySet</a>&lt;<a class="xref" href="FinSysPlatform.Domain.Market.Providers.InstrumentServiceCapability.html">InstrumentServiceCapability</a>&gt;</dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_Capabilities_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Some brokers, like Spotex or MetaTrader get the whole list of supported instruments on connect.
You need to wait for <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent">AllServerInstrumentsLoadedEvent</a> event to catch the moment when all instruments are really loaded
Also, you can use <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded">IsAllServerInstrumentsLoaded</a> to check whether all instruments are loaded for now
To get all loaded instruments, use <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments">GetKnownServerInstruments()</a></p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_InstrumentProviderName_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.InstrumentProviderName*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_InstrumentProviderName" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.InstrumentProviderName">
  InstrumentProviderName
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-192"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Real instrument provider, used with Master account</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">string InstrumentProviderName { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_InstrumentProviderName_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Is needed to identify the provider name, which is used to load instruments from database
The full list of providers see &quot;FinSysPlatform.Domain.Broker.KnownProviders&quot;
See also ProviderName.Name</p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.IsAllServerInstrumentsLoaded*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.IsAllServerInstrumentsLoaded">
  IsAllServerInstrumentsLoaded
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-126"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>If a provider downloaded all possible instruments from server, this property returns true</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool IsAllServerInstrumentsLoaded { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Some providers are able to get all instruments from server on start automatically. As soon as the provider gets all instruments, it sets this property to true
<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent">AllServerInstrumentsLoadedEvent</a>
<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments">GetKnownServerInstruments()</a>
<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_InstrumentKey_System_Boolean_">TryLoadInstrumentFromServerAsync(InstrumentKey, bool)</a></p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstruments_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.LocalInstruments*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstruments" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.LocalInstruments">
  LocalInstruments
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-91"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Collection if instruments which are already loaded from local storage
See also <span class="xref">IInstrumentService.GetInstrumentsOfAccount</span>
instruments at start, some clients need implicit query etc</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">LocalInstrument[] LocalInstruments { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FinSysPlatform.Domain.Market.LocalInstrument.html">LocalInstrument</a>[]</dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstruments_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This is the fastest and easiest way to get access to locally defined instruments
A returned array instance may change from call to call. The property returned a snapshot of local instruments at the moment of call</p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstrumentsChangedEvent_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.LocalInstrumentsChangedEvent*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstrumentsChangedEvent" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.LocalInstrumentsChangedEvent">
  LocalInstrumentsChangedEvent
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-171"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Occurs when <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstruments">LocalInstruments</a> changes (item added, removed or updated)
Attention: event may be generated from a thread different to UI thread. Use dispatcher if UI components are involved in your logic</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEvent&lt;EventArgs&gt; LocalInstrumentsChangedEvent { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><span class="xref">IEvent</span>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.eventargs">EventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_LocalInstrumentsChangedEvent_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Currently, this event does not provide information about what exactly changed, because there is no such necessity so far
This event uses a weak reference: subscriber will be destroyed even if it is still subscribed to this event</p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_SupportedInstrumentTypes_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.SupportedInstrumentTypes*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_SupportedInstrumentTypes" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.SupportedInstrumentTypes">
  SupportedInstrumentTypes
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-69"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Supported instrument types, for example Stocks, Features, Bonds etc</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IReadOnlySet&lt;InstrumentType&gt; SupportedInstrumentTypes { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ireadonlyset-1">IReadOnlySet</a>&lt;<a class="xref" href="FinSysPlatform.Domain.Market.InstrumentType.html">InstrumentType</a>&gt;</dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetDefaultInstruments_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetDefaultInstruments*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetDefaultInstruments_FinSysPlatform_Domain_Market_Providers_DefaultInstrumentPurpose_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetDefaultInstruments(FinSysPlatform.Domain.Market.Providers.DefaultInstrumentPurpose)">
  GetDefaultInstruments(DefaultInstrumentPurpose)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-161"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns the collection of default instruments</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">LocalInstrument[] GetDefaultInstruments(DefaultInstrumentPurpose forWhat)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>forWhat</code> <a class="xref" href="FinSysPlatform.Domain.Market.Providers.DefaultInstrumentPurpose.html">DefaultInstrumentPurpose</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FinSysPlatform.Domain.Market.LocalInstrument.html">LocalInstrument</a>[]</dt>
    <dd></dd>
  </dl>







  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetDefaultInstruments_FinSysPlatform_Domain_Market_Providers_DefaultInstrumentPurpose__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Why this method is implemented in the scope of the account/provider:</p>
<ol>
<li>The list of instruments may depend not only on the provider type, but the type of the connected account (in other words, depending on account credentials)</li>
<li>For master account, it is possible to return instruments only having the list of included accounts</li>
</ol>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetInstrumentAssets_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetInstrumentAssets*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetInstrumentAssets_FinSysPlatform_Domain_Market_InstrumentKey_System_String__System_String__" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetInstrumentAssets(FinSysPlatform.Domain.Market.InstrumentKey,System.String@,System.String@)">
  GetInstrumentAssets(InstrumentKey, out string?, out string?)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-140"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns assets (participants) of the instrument. For example EUR/USD has assets: EUR vs USD
For non-forex instruments, a second asset is a base currency. For example, for AAPL assets are AAPL vs USD</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool GetInstrumentAssets(InstrumentKey instrument, out string? currency1, out string? currency2)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>instrument</code> <a class="xref" href="FinSysPlatform.Domain.Market.InstrumentKey.html">InstrumentKey</a></dt>
    <dd></dd>
    <dt><code>currency1</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
    <dt><code>currency2</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>







  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetInstrumentAssets_FinSysPlatform_Domain_Market_InstrumentKey_System_String__System_String___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>To get assets of the instrument, the provider must have information about the instrument. If the provider does not have information about the instrument, it returns false
<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_InstrumentKey_System_Boolean_">TryLoadInstrumentFromServerAsync(InstrumentKey, bool)</a></p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetInstrumentTickSize_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetInstrumentTickSize*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetInstrumentTickSize_FinSysPlatform_Domain_Market_Instrument_System_Double_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetInstrumentTickSize(FinSysPlatform.Domain.Market.Instrument,System.Double)">
  GetInstrumentTickSize(Instrument, double)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-148"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>By default, each instrument has constant definition of one tick size, <a class="xref" href="FinSysPlatform.Domain.Market.InstrumentDefinition.html#FinSysPlatform_Domain_Market_InstrumentDefinition_TickSize">TickSize</a>
But sometimes tick size depends on current price, see explanations, for example, here: <a href="https://interactivebrokers.github.io/tws-api/minimum_increment.html">https://interactivebrokers.github.io/tws-api/minimum_increment.html</a>
If there are no special rules for instrument, broker must return default value <a class="xref" href="FinSysPlatform.Domain.Market.InstrumentDefinition.html#FinSysPlatform_Domain_Market_InstrumentDefinition_TickSize">TickSize</a></p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">double GetInstrumentTickSize(Instrument instrument, double price)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>instrument</code> <a class="xref" href="FinSysPlatform.Domain.Market.Instrument.html">Instrument</a></dt>
    <dd></dd>
    <dt><code>price</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd></dd>
  </dl>











  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetKnownServerInstruments*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.GetKnownServerInstruments">
  GetKnownServerInstruments()
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-115"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Collection of instruments which are already known by a local client. Filling of this list depends on broker client: some clients can get a list of
instruments on start, some clients need implicit query etc. Initially (when the client is not connected) the list is empty</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IServerInstrument[] GetKnownServerInstruments()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="FinSysPlatform.Domain.Market.Providers.IServerInstrument.html">IServerInstrument</a>[]</dt>
    <dd></dd>
  </dl>







  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_GetKnownServerInstruments_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The returned instruments are not obliged to correlate with local instruments. They may have another names, parameters etc.
If the provider supports loading all possible instruments on start (<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_Capabilities">Capabilities</a>), the method returns all available server instruments, but first you need to
check <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_IsAllServerInstrumentsLoaded">IsAllServerInstrumentsLoaded</a> flag to be sure that all instruments are loaded. To catch the moment when all instruments are loaded use <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_AllServerInstrumentsLoadedEvent">AllServerInstrumentsLoadedEvent</a>
For the provider which does not support loading all instruments on start, the result of this method is indeterminate and depends on previous actions. If you need to get some server instrument by instrument key, use <a class="xref" href="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.html#FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_InstrumentKey_System_Boolean_">TryLoadInstrumentFromServerAsync(InstrumentKey, bool)</a></p>
</div>




  <a id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.TryLoadInstrumentFromServerAsync*"></a>

  <h3 id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_InstrumentKey_System_Boolean_" data-uid="FinSysPlatform.Domain.Market.Providers.IInstrumentServiceProvider.TryLoadInstrumentFromServerAsync(FinSysPlatform.Domain.Market.InstrumentKey,System.Boolean)">
  TryLoadInstrumentFromServerAsync(InstrumentKey, bool)
  <a class="header-action link-secondary" title="View source" href="https://bitbucket.org/fintechnology/finalgo-charts/src/development/src/FinSysPlatform.Domain.Market/Providers/IInstrumentServiceProvider.cs#lines-103"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Tries to load an instrument from server. Server version of instrument may have another parameters than local version of the same instrument</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task&lt;IServerInstrument?&gt; TryLoadInstrumentFromServerAsync(InstrumentKey instrumentKey, bool resetCache = false)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>instrumentKey</code> <a class="xref" href="FinSysPlatform.Domain.Market.InstrumentKey.html">InstrumentKey</a></dt>
    <dd><p>Instrument key</p>
</dd>
    <dt><code>resetCache</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Provider may cache collected results locally to optimize the requests. If you need to reset locally cached info and request it right the server, set the parameter to true</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="FinSysPlatform.Domain.Market.Providers.IServerInstrument.html">IServerInstrument</a>&gt;</dt>
    <dd></dd>
  </dl>







  <h4 class="section" id="FinSysPlatform_Domain_Market_Providers_IInstrumentServiceProvider_TryLoadInstrumentFromServerAsync_FinSysPlatform_Domain_Market_InstrumentKey_System_Boolean__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The returned instrument is not obliged to correlate with local instruments. It may have another names, parameters etc
This is to the provider to load instrument info</p>
</div>





</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
